<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CUB3DPlayer</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap');

    * {margin:0;padding:0;box-sizing:border-box;font-family:'Poppins',sans-serif}
    body {background:#4DB6AC;display:flex;justify-content:center;align-items:center;min-height:100vh}
    .player {width:400px;background:#263238;border-radius:10px;box-shadow:0px 0px 20px rgba(0,0,0,0.3);overflow:hidden;position:relative}
    .header {display:flex;justify-content:space-between;align-items:center;padding:15px 20px;color:white;font-weight:600;cursor:pointer}
    .now-playing {text-align:center;margin-top:10px;color:#4DB6AC;font-weight:600}
    .cover {display:block;margin:15px auto;width:150px;height:150px;border-radius:10px;object-fit:cover;background:#37474F}
    .title {text-align:center;color:white;font-weight:600;margin-top:5px}
    .artist {text-align:center;color:#B0BEC5;font-size:14px;margin-bottom:15px}
    .controls-top {display:flex;justify-content:center;gap:20px;padding:10px}
    .controls-top button,.controls-bottom button {border:none;outline:none;background:white;border-radius:8px;width:40px;height:40px;font-size:18px;cursor:pointer;box-shadow:0px 2px 4px rgba(0,0,0,0.3)}
    .progress-container {display:flex;align-items:center;padding:0 15px;color:white;font-size:12px}
    .progress-bar {flex:1;margin:0 10px}
    input[type="range"] {width:100%}
    .controls-bottom {display:flex;justify-content:space-around;align-items:center;padding:15px}
    .controls-bottom .play-btn {width:70px;height:70px;font-size:30px;border-radius:50%}

    /* Sidebar playlist */
    .sidebar {
      position:absolute;
      top:0;
      left:-250px;
      width:250px;
      height:100%;
      background:#37474F;
      transition:left 0.3s ease;
      padding:15px;
      overflow-y:auto;
    }
    .sidebar.active {left:0}
    .sidebar h3 {color:white;margin-bottom:10px}
    .sidebar ul {list-style:none}
    .sidebar ul li {
      padding:8px;
      color:white;
      cursor:pointer;
      border-bottom:1px solid rgba(255,255,255,0.1);
    }
    .sidebar ul li:hover {background:#455A64}
  </style>
</head>
<body>
  <div class="player">
    <div class="header">
      <span id="menu">‚ò∞</span>
      <span>CUB3DPlayer</span>
      <span>üîç</span>
    </div>
    <div class="now-playing">üéµ Now Playing</div>
    <img src="cover.jpg" alt="Sampul" class="cover" id="cover">
    <div class="title" id="title">Judul Lagu</div>
    <div class="artist" id="artist">Artis</div>
    <div class="controls-top">
      <button id="repeat">üîÅ</button>
      <button id="shuffle">üîÄ</button>
    </div>
    <div class="progress-container">
      <span id="current-time">0:00</span>
      <input type="range" id="progress" class="progress-bar" value="0">
      <span id="duration">0:00</span>
    </div>
    <div class="controls-bottom">
      <button id="prev">‚èÆ</button>
      <button class="play-btn" id="play">‚ñ∂</button>
      <button id="next">‚è≠</button>
    </div>

    <!-- Sidebar playlist -->
    <div class="sidebar" id="sidebar">
      <h3>Playlist</h3>
      <ul id="playlist"></ul>
    </div>
  </div>

  <script>
  // --- Daftar Lagu ---
  const songs = [
    { title: "Hindia - Secukupnya", file: "Hindia - Secukupnya Lirik Lagu.mp3", artist: "Hindia", cover: "hindia.jpg" },
      { title: "Feast - Nina", file: "Feast - Nina (Lirik).mp3", artist: "Feast", cover: "feast.jpg" },
      { title: "Kami Belum tentu", file: "Feast - Kami Belum Tentu (Lirik).mp3", artist: "Feast", cover: "feast.jpg" },
      { title: "O Tuan", file: "O Tuan - _.Feast Lirik Lagu.mp3", artist: "Feast", cover: "feast.jpg" },
      { title: "Peradaban", file: "Feast - Peradaban (lirik).mp3", artist: "Feast", cover: "feast.jpg" },
      { title: "Tarot - .Feast", file: "Tarot - .Feast Lirik Lagu.mp3", artist: "Feast", cover: "feast.jpg" },
      { title: "Rumah ke Rumah", file: "Hindia - Rumah ke Rumah Lirik Lagu.mp3", artist: "Hindia", cover: "hindia.jpg" },
      { title: "Hindia - Evaluasi", file: "Hindia.mp3", artist: "Hindia", cover: "hindia.jpg" },
      { title: "Hindia - Cincin Lirik Lagu", file: "Hindia - Cincin Lirik Lagu.mp3", artist: "Hindia", cover: "hindia.jpg" },
      { title: "Hindia - everything u are", file: "Hindia - everything u are Lirik Lagu.mp3", artist: "Hindia", cover: "hindia.jpg" },
      { title: "Hal - L", file: "Hal - L (Lirik Lagu Lyrics).mp3", artist: "Halstage", cover: "hal.jpg" },
      { title: "Bergema Sampai Selamanya", file: "Nadhif Basalamah - Bergema Sampai Selamanya (Lyrics).mp3", artist: "Nadhif Basalamah", cover: "nadhif basmallah.jpg" },
      { title: "Lesung Pipi", file: "Raim Laode - Lesung Pipi (Lirik).mp3", artist: "Raim Laode", cover: "raim laode.jpg" },
      { title: "Komang", file: "KOMANG - RAIM LAODE LYRIC OFFICIAL.mp3", artist: "Raim Laode", cover: "raim laode.jpg" },
      { title: "Pamungkas - Monolog", file: "Pamungkas - Monolog (Lirik Lagu).mp3", artist: "Pamungkas", cover: "pamungkas.jpg" },
      { title: "Bunga Abadi", file: "Rio Clappy - Bunga Abadi (Lirik Lyrics).mp3", artist: "Rio Clappy", cover: "rio clappy.jpg" },
      { title: "Bunga Maaf", file: "The Lantis - Bunga Maaf (Lyrics).mp3", artist: "The Lantis", cover: "the lantis.jpg" },
      { title: "Dewa - Risalah Hati", file: "Dewa - Risalah Hati - LIRIK LAGU.mp3", artist: "Dewa", cover: "dewa 19.jpg" },
      { title: "Dewa 19 - Kangen", file: "Dewa 19 - Kangen - ( Lirik Lagu ).mp3", artist: "Dewa 19", cover: "dewa 19.jpg" },
      { title: "Dewa 19 - Separuh Nafas", file: "Dewa 19 - Separuh Nafas (Lirik Lagu).mp3", artist: "Dewa 19", cover: "dewa 19.jpg" },
      { title: "Lyla - Karena Kamu Cantik", file: "Lyla - Karena Kamu Cantik Kamu Baik Lirik Lagu.mp3", artist: "Lyla", cover: "lyla.jpg" },
      { title: "Pupus - Dewa 19", file: "Pupus - Dewa 19 (Lirik Lagu).mp3", artist: "Dewa 19", cover: "dewa 19.jpg" },
      { title: "Tulus - Hati-hati di jalan", file: "Tulus - Hati-hati di jalan Lirik Lagu Indonesia.mp3", artist: "Tulus", cover: "tulus.jpg" },
      { title: "Batas Senja - Nanti Kita Seperti Ini", file: "Batas Senja - Nanti Kita Seperti Ini (Lirik).mp3", artist: "Batas Senja", cover: "batas senja.jpg" },
      { title: "For Revenge - Jakarta Hari Ini", file: "For Revenge - Jakarta Hari Ini Lirik Lagu.mp3", artist: "For Revenge", cover: "for revenge.jpg" },
      { title: "Ghea Indrawari - Jiwa Yang Bersedih", file: "Ghea Indrawari - Jiwa Yang Bersedih (Lirik).mp3", artist: "Ghea Indrawari", cover: "ghea indrawari.jpg" },
      { title: "Kelingan Mantan - NDX A.K.A", file: "Kelingan Mantan - NDX A.K.A.mp3", artist: "NDX A.K.A", cover: "ndx aka.jpg" },
      { title: "Last Child - Duka", file: "Last Child - Duka Lirik Lagu.mp3", artist: "Last Child", cover: "last child.jpg" },
      { title: "Virgoun - Selamat Tinggal", file: "Virgoun - Selamat (Selamat Tinggal) ft Audy Lirik Lagu.mp3", artist: "Virgoun ft Audy", cover: "virgoun.jpg" },
      { title: "Geisha - Karena Kamu", file: "Geisha - Karena Kamu (Lyrics).mp3", artist: "Geisha", cover: "geisha.jpg" },
      { title: "Baby - Justin Bieber", file: "Baby - Justin Bieber feat. Ludacris (Lirik Lagu Terjemahan).mp3", artist: "Justin Bieber", cover: "justin bieber.jpg" },
      { title: "Night Changes - One Direction", file: "Night Changes - One Direction (Lirik Lagu Terjemahan).mp3", artist: "One Direction", cover: "one direction.jpg" },
      { title: "Avicii - The Nights", file: "Iframe Avicii - The Nights (Lyrics) _my father told me_ [H78YW7ycuwI].mp3", artist: "Avicii", cover: "avicii.jpg" },
      { title: "Somebody's Pleasure - Aziz Hedra", file: "Iframe Aziz Hedra - Somebody's Pleasure (Lyrics) [zawDTvoXT8k].mp3", artist: "Aziz Hedra", cover: "aziz hedra.jpg" },
      { title: "Be Alright - Dean Lewis", file: "Iframe Dean Lewis - Be Alright (Lyrics) [c8L-ZoKNENU].mp3", artist: "Dean Lewis", cover: "dean lewis.jpg" },
      { title: "Jar Of Hearts - Christina Perri", file: "Iframe Jar of Hearts - Christina Perri (Lyrics video dan terjemahan) [hTdwEMBB62w] (1).mp3", artist: "Christina Perri", cover: "christina perri.jpg" },
      { title: "Payphone - Maroon 5", file: "Iframe Payphone - Maroon 5 ft. Wiz Khalifa (Lyrics video dan terjemahan) [ZWmfm5vmqvk].mp3", artist: "Maroon 5", cover: "maroon 5.jpg" },
      { title: "Rewrite The Stars - James Arthur & Anne Marie", file: "Iframe Rewrite The Stars - James Arthur feat. Anne Marie [Lyrics_Vietsub] [HiYMlQoFz6c].mp3", artist: "James Arthur & Anne Marie", cover: "james arthur & anne marie.jpg" },
      { title: "8 Letters - Why Don't We", file: "Iframe Vietsub _ 8 Letters - Why Don't We _ Nh·∫°c Hot TikTok _ Lyrics Video [8yamg7y-Jv0].mp3", artist: "Why Don't We", cover: "why don't we.jpg" },
      { title: "Where We Are - One Direction", file: "Iframe Where We Are - One Direction __ Lyrics Tiktok Version [yYxMH3twnjk].mp3", artist: "One Direction", cover: "one direction.jpg" },
      { title: "Akon - Lonely", file: "Akon - Lonely.mp3", artist: "Akon", cover: "akon.jpg" },
      { title: "Akon - Don't Matter", file: "Akon - Don't Matter (Lyrics).mp3", artist: "Akon", cover: "akon.jpg" },
      { title: "Alan Walker - All Falls Down", file: "Alan Walker - All Falls Down (Lyrics Lyric Video) feat. Noah Cyrus & Digital Farm Animals.mp3", artist: "Alan Walker", cover: "alan walker.jpg" },
      { title: "Alan Walker - Alone", file: "Alan Walker - Alone (Lyrics).mp3", artist: "Alan Walker", cover: "alan walker.jpg" },
      { title: "Ed Sheeran - Perfect", file: "Ed Sheeran - Perfect.mp3", artist: "Ed Sheeran", cover: "ed sheeran.jpg" },
      { title: "Justin Bieber - Ghost", file: "Justin Bieber - Ghost (Lyrics).mp3", artist: "Justin Bieber", cover: "justin bieber.jpg" },
      { title: "Lily - Alan Walker K-391 & Emelie Hollow", file: "Lily - Alan Walker K-391 & Emelie Hollow (Lirik Lagu Terjemahan).mp3", artist: "Alan Walker", cover: "alan walker.jpg" },
      { title: "Pamungkas - To The Bone", file: "To The Bone - Pamungkas (Lirik Lagu & Terjemahan).mp3", artist: "Pamungkas", cover: "pamungkas.jpg" },
      { title: "Ruth B. - Dandelions", file: "Ruth B. - Dandelions (Lyrics).mp3", artist: "Ruth B.", cover: "ruth b..jpg" },
      { title: "Mood", file: "Iframe 24kGoldn - Mood Remix (Lyrics) ft. Justin Bieber, J Balvin, Iann Dior [f1J4dRTMy9A].mp3", artist: "24kGoldn", cover: "24kgoldn.jpg" },
      { title: "Replay", file: "Iframe Iyaz - Replay _ Lyrics [GqYj_f9gVqM].mp3", artist: "Iyaz", cover: "iyaz.jpg" },
      { title: "Beauty And A Beat", file: "Iframe Justin Bieber, Nicki Minaj ‚Äì Beauty And A Beat (Lyrics) [J9abt3xpdDU].mp3", artist: "Justin Bieber ft Nicki Minaj", cover: "justin bieber.jpg" }
  ];

  let index = 0, isPlaying = false, repeat=false, shuffle=false;
  const audio = new Audio();
  const playBtn = document.getElementById("play");
  const title = document.getElementById("title");
  const artist = document.getElementById("artist");
  const cover = document.getElementById("cover");
  const progress = document.getElementById("progress");
  const currentTimeEl = document.getElementById("current-time");
  const durationEl = document.getElementById("duration");
  const sidebar = document.getElementById("sidebar");
  const playlistEl = document.getElementById("playlist");

  // generate playlist
  songs.forEach((s,i)=>{
    let li=document.createElement("li");
    li.textContent=s.title;
    li.onclick=()=>{loadSong(i);playSong();sidebar.classList.remove("active")};
    playlistEl.appendChild(li);
  });

  function loadSong(i) {
    index = i;
    audio.src = songs[i].file;
    title.textContent = songs[i].title;
    artist.textContent = songs[i].artist;
    cover.src = songs[i].cover;
    audio.load();
    updateMediaSession(songs[i]);
  }

  function playSong() {
    isPlaying = true;
    audio.play();
    playBtn.textContent = "‚è∏";
    if ("mediaSession" in navigator) navigator.mediaSession.playbackState = "playing";
  }

  function pauseSong() {
    isPlaying = false;
    audio.pause();
    playBtn.textContent = "‚ñ∂";
    if ("mediaSession" in navigator) navigator.mediaSession.playbackState = "paused";
  }

  playBtn.onclick=()=>{isPlaying?pauseSong():playSong()};
  document.getElementById("next").onclick=()=>nextSong();
  document.getElementById("prev").onclick=()=>prevSong();

  document.getElementById("repeat").onclick=()=>{
    repeat=!repeat;
    alert("Repeat: "+(repeat?"ON":"OFF"));
  };
  document.getElementById("shuffle").onclick=()=>{
    shuffle=!shuffle;
    alert("Shuffle: "+(shuffle?"ON":"OFF"));
  };

  function nextSong(){
    if(shuffle){
      index=Math.floor(Math.random()*songs.length);
    } else {
      index=(index+1)%songs.length;
    }
    loadSong(index);
    playSong();
  }
  function prevSong(){
    index=(index-1+songs.length)%songs.length;
    loadSong(index);
    playSong();
  }

  audio.ontimeupdate=()=>{
    progress.value=(audio.currentTime/audio.duration)*100||0;
    let m=Math.floor(audio.currentTime/60),s=Math.floor(audio.currentTime%60);if(s<10)s="0"+s;
    currentTimeEl.textContent=`${m}:${s}`;
    let dm=Math.floor(audio.duration/60),ds=Math.floor(audio.duration%60);if(ds<10)ds="0"+ds;
    if(!isNaN(dm))durationEl.textContent=`${dm}:${ds}`;
  };
  progress.oninput=()=>{audio.currentTime=(progress.value/100)*audio.duration};
  audio.onended=()=>{repeat?playSong():nextSong()};

  // Sidebar toggle
  document.getElementById("menu").onclick=()=>{sidebar.classList.toggle("active")};

  // --- Media Session API ---
  function updateMediaSession(song){
    if("mediaSession" in navigator){
      navigator.mediaSession.metadata=new MediaMetadata({
        title:song.title,artist:song.artist,
        artwork:[{src:song.cover,sizes:"512x512",type:"image/jpg"}]
      });
      navigator.mediaSession.setActionHandler("play", playSong);
      navigator.mediaSession.setActionHandler("pause", pauseSong);
      navigator.mediaSession.setActionHandler("previoustrack", prevSong);
      navigator.mediaSession.setActionHandler("nexttrack", nextSong);
    }
  }

  loadSong(index);
  </script>
</body>
</html>
